@page "/"
@inherits TwitterStreamComponent

<div class="row mb-lg-3">
    <div class="input-group col-4">
        <input type="text" class="form-control"
               placeholder="#hashtag or @@handle" />
        <div class="input-group-append">
            <button class="btn btn-dark" type="button" onclick=@(() => AddTrack())>
                <span class="oi oi-plus"></span> Add
            </button>
        </div>
    </div>
    <div class="input-group col-8">
        @foreach (var track in Tracks)
        {
            <span class="badge badge-pill p-3 mr-2 badge-dark clickable"
                  title="Click to remove '@(track)'." onclick=@(() => RemoveTrack(track))>
                @track
            </span>
        }
    </div>
</div>

<div class="row">
    <div class="col-4">
        <button class="btn btn-lg btn-dark" onclick=@StreamService.StartAsync>
            <span class="oi oi-media-play"></span> Start
        </button>
        <button class="btn btn-lg btn-dark" onclick=@StreamService.StopAsync>
            <span class="oi oi-media-stop"></span> Stop
        </button>
        <button class="btn btn-lg btn-dark" onclick=@StreamService.PauseAsync>
            <span class="oi oi-media-pause"></span> Pause
        </button>
    </div>
    <div class="col-8">
        <div class="alert alert-info" role="alert">
            @Status
        </div>
    </div>
</div>

@if (Tweets?.Any() ?? false)
{
    <div id="tweets">
        <ul class="reversed no-bullets">
            @foreach (var tweet in Tweets)
            {
                var tweetHTml = new MarkupString(tweet.HTML);
                <li>@tweetHTml</li>
            }
        </ul>
    </div>
}